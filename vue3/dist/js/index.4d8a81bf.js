import{_ as x}from"./logo.71c63ff5.js";import{d as b,a as w,U as k,Z as _,X as f,W as e,k as r,l as g,a1 as U,u as a,aa as $,M as R}from"./vue.71710d55.js";import{_ as L}from"./AppPage.vue_vue_type_script_setup_true_name_AppPage_lang.083a423a.js";import{s as j,b0 as q,b1 as K,a as M,n as C,f as I,h as P}from"./NvapForm.32ab4956.js";import{b as S,u as A}from"./vue-router.37441a91.js";import"./axios.9678a311.js";const F=""+new URL("../assets/login_banner.9a2c5794.jpg",import.meta.url).href,N=""+new URL("../assets/login_bg.acaecc59.jpg",import.meta.url).href,T={style:{transform:"translateY(25px)"},class:"m-auto p-15 f-c-c min-w-345 max-w-700 rounded-10 card-shadow bg-white","dark:bg-dark":""},W=e("div",{"w-380":"",hidden:"","md:block":"","px-20":"","py-35":""},[e("img",{src:F,"w-full":"",alt:"login_banner"})],-1),X={"w-320":"","flex-col":"","px-20":"","py-35":""},Y={"f-c-c":"","text-24":"","font-normal":"",color:"#6a6a6a"},Z={"mt-30":""},z={"mt-30":""},B={"mt-20":""},D={"mt-20":""},ee=b({__name:"index",setup(E){const h=j.title,i=S(),{query:n}=A(),t=w({name:"",password:""}),p=q("isRemember",!1),m=w(!1);async function u(){const{name:l,password:s}=t.value;if(l&&s){try{m.value=!0,window.$message.loading("正在验证...");const{data:d}=await K({name:l,password:s.toString()});if(window.$message.success("登录成功"),M().setToken(d.token,l),n.redirect){const c=n.redirect;Reflect.deleteProperty(n,"redirect"),i.push({path:c,query:n})}else i.push("/")}catch{window.$message.removeMessage()}m.value=!1}else window.$message.warning("请输入用户名和密码")}return(l,s)=>{const d=x,c=C,v=I,y=P;return k(),_(L,{"show-footer":!0,"bg-cover":"",style:R({backgroundImage:`url(${a(N)})`})},{default:f(()=>[e("div",T,[W,e("div",X,[e("h5",Y,[r(d,{"mr-10":"","text-50":"","color-primary":""}),g(U(a(h)),1)]),e("div",Z,[r(c,{value:a(t).name,"onUpdate:value":s[0]||(s[0]=o=>a(t).name=o),autofocus:"",class:"text-16 items-center h-50 pl-10",placeholder:"admin",maxlength:20},null,8,["value"])]),e("div",z,[r(c,{value:a(t).password,"onUpdate:value":s[1]||(s[1]=o=>a(t).password=o),class:"text-16 items-center h-50 pl-10",type:"password","show-password-on":"mousedown",placeholder:"123456",maxlength:20,onKeydown:$(u,["enter"])},null,8,["value","onKeydown"])]),e("div",B,[r(v,{checked:a(p),label:"记住我","on-update:checked":o=>p.value=o},null,8,["checked","on-update:checked"])]),e("div",D,[r(y,{"w-full":"","h-50":"","rounded-5":"","text-16":"",type:"primary",loading:a(m),onClick:u},{default:f(()=>[g(" 登录 ")]),_:1},8,["loading"])])])])]),_:1},8,["style"])}}});export{ee as default};
