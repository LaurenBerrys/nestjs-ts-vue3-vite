import{b4 as h,_ as D,n as I,a_ as j,o as C,q as S,aY as A,a$ as L,h as R,i as N,ay as O,az as $}from"./NvapForm.32ab4956.js";import{a as M}from"./icon.0fb32957.js";import{d as V,S as b,a as F,r as T,U as d,Z as m,X as o,k as r,l as w,x as v,v as k,ac as y,V as P,N as X,F as Y}from"./vue.71710d55.js";const Z=["airplay","alarm-clock","align-horizontal","align-vertical","angle","archive","arrow-bottom-left","arrow-bottom-right","arrow-down","arrow-down-circle","arrow-left","arrow-left-circle","arrow-right","arrow-right-circle","arrow-top-left","arrow-top-right","arrow-up","arrow-up-circle","audio-wave","backspace","backward","bag","battery-75","battery-charging","battery-empty","battery-full","battery-half","battery-low","bell","bell-disabled","bell-ringing","bell-snooze","bluetooth","book","book-closed","book-text","bookmark","bookmark-book","box","box-add","box-download","box-open","box-remove","boxes","branch","briefcase","browser","browser-alt","button-add","button-minus","calculator","calendar","calendar-add","calendar-date","calendar-day","calendar-days","calendar-last-day","calendar-month","calendar-move","calendar-remove","calendar-split","calendar-week","camera","camera-alt","camera-noflash","camera-noflash-alt","capture","card-timeline","card-view","carousel","cart","cast","chain","chat-add","check","check-circle","check-circle-outside","checkbox-checked","checkbox-empty","chevron-close","chevron-down","chevron-down-circle","chevron-down-double","chevron-left","chevron-left-circle","chevron-left-double","chevron-open","chevron-right","chevron-right-circle","chevron-right-double","chevron-up","chevron-up-circle","chevron-up-double","circle","circle-menu","circle-split","clipboard","clipboard-add","clipboard-check","clipboard-copy","clipboard-cross","clipboard-notes","clipboard-remove","clock","close","cloud","cloud-disconnect","cloud-download","cloud-download-alt","cloud-upload","cloud-upload-alt","code","coffee","coin","coins","compass","component-add","contacts","contract","create","credit-card","crop","cross","cross-circle","crosshair","cube","cubes","cylinder","database","diamond","directions","disc","display","display-alt","document","document-justified","document-list","document-stack","document-words","door","door-alt","download","download-alt","downward","drag","drag-circle","drag-vertical","duplicate","duplicate-alt","enter","enter-alt","episodes","exit-left","exit-right","expand","expand-height","expand-width","external","eye","eye-closed","eye-no","face-delighted","face-happy","face-neutral","face-sad","file-download","file-upload","files-history","files-multi","files-stack","film","filter","filter-circle","filter-single","filtering","fingerprint","flag","flame","flame-alt","flip-view","floppy","folder-add","folder-closed","folder-minus","folder-open","fork-git","forward","frame","fullscreen","funnel","gauge","gift","globe","gps","grab","graph-bar","graph-box","graph-increase","grid","grid-circles","grid-circles-add","grid-small","grid-squares","grid-squares-add","hand","harddrive","hash","heart","heart-rate","heart-remove","height","hierarchy","home","home-alt","home-check","home-door","import","inbox","inbox-alt","info-circle","iphone-landscape","iphone-portrait","jump-backward","jump-forward","jump-left","jump-right","keyboard","laptop","lightbulb","lightbulb-on","lightning","lightning-alt","lineweight","link","link-alt","link-broken","link-horizontal","link-vertical","list","list-add","list-numbered","loader","location","lock","lock-open","mail","mail-add","mail-delete","mail-minus","mail-new","mail-open","mail-remove","marquee","maximise","menu-hamburger","menu-horizontal","menu-vertical","message","message-writing","microphone","microphone-disabled","microphone-muted","midpoint","mini-player","minimise","minus","minus-circle","moon","move","newspaper","no-sign","notebook","notification","nut","pages","panel-bottom","panel-center","panel-left","panel-right","panel-sectioned","panel-top","paper","paper-folded","paper-plane","paper-plane-alt","paperclip","paragraph-center","paragraph-end","paragraph-left","paragraph-right","paragraph-start","pen","phone-landscape","phone-portrait","picture","pie-half","pie-quarter","pie-third","pill","play-button","plus","plus-circle","postcard","printer","projector","pull-down","pull-left","pull-right","pull-up","push-down","push-left","push-right","push-up","question-circle","radio-on","receipt","record","redo","refresh","refresh-alt","replicate","replicate-alt","reset","reset-alt","reset-forward","reset-hard","reset-temporary","retweet","reuse","reverse","reverse-alt","revert","rocket","ruler","scale","scale-contract","scale-extend","scalpel","search","server","settings","share","share-alt","shuffle","side-menu","signal-full","signal-low","signal-medium","signal-none","slash-backward","slash-forward","sliders","sort","sort-alt","speaker","speech-bubble","speech-typing","split","split-three","star","sun","support","swap","switch","table","table-header","tag","tag-milestone","tags","target","terminal","thread","thumbs-down","thumbs-up","ticket","timeline","todo","toggle","toggles","translate","trash","trash-alt","trophy","tv-mode","unarchive","undo","undo-history","unlink-horizontal","unlink-vertical","upload","upload-alt","upward","user","user-add","user-circle","user-male","user-male-circle","user-remove","users","venn","version","versions","video","volume-0","volume-add","volume-disabled","volume-high","volume-low","volume-minus","volume-muted","wallet","warning-circle","warning-hex","warning-triangle","waves","width","wifi","wifi-error","wifi-none","window","window-collapse-left","window-collapse-right","window-content","wrap-back","wrap-forward","write","zoom-cancel","zoom-in","zoom-out","zoom-reset"],B=e=>h({url:"/nest-api/menu-list",method:"post",data:e}),ae=(e,a)=>h({url:"/nest-api/menu-list/"+e,method:"patch",data:a}),re=e=>h({url:"/nest-api/menu-list/"+e,method:"delete"}),E={icon:{required:!0,message:"请选择图标",trigger:"blur"},title:{required:!0,message:"请输入标题",trigger:"blur"},path:{required:!0,message:"请输入路径",trigger:"blur"},code:{required:!0,message:"请输入权限",trigger:"blur"}},G=V({name:"CreateDrawer",props:{title:{type:String,default:"添加顶级菜单"},width:{type:Number,default:450},parentId:{type:String,default:"0"}},setup(e){const{title:a,parentId:f}=b(e),c=F(null),p=()=>({name:"",parentId:"",title:"",path:"",component:"",code:"",icon:"",order:0,redirect:"",permissions:"",hidden:!1,keepAlive:!1}),t=T({isDrawer:!1,subLoading:!1,formParams:p()});function n(){t.isDrawer=!1}function i(){c.value.restoreValidation(),t.formParams=Object.assign(t.formParams,p())}return{title:a,enterIcons:s=>{t.formParams.icon=s},getIcon:s=>M("system-uicons:"+s,{size:20}),sourceData:Z,...b(t),formRef:c,rules:E,formSubmit:function(){c.value.validate(s=>{s?window.$message.error("请填写完整信息"):(window.$message.success("添加成功"),t.formParams.name=t.formParams.title,t.formParams.icon="system-uicons:"+t.formParams.icon,a.value=="添加顶级菜单"?t.formParams.component="Layout":t.formParams.parentId=f.value,t.formParams.permissions=t.formParams.permissions.split(","),B(t.formParams).then(u=>{i(),n()}))})},handleReset:i,openDrawer:function(){t.isDrawer=!0},closeDrawer:n}}}),H=["onClick"],J=D(G,[["render",function(e,a,f,c,p,t){const n=I,i=j,s=C,u=S,x=A,_=L,g=R,z=N,U=O,q=$;return d(),m(q,{show:e.isDrawer,"onUpdate:show":a[10]||(a[10]=l=>e.isDrawer=l),width:e.width,placement:"right"},{default:o(()=>[r(U,{title:e.title,closable:""},{footer:o(()=>[r(z,null,{default:o(()=>[r(g,{type:"primary",loading:e.subLoading,onClick:e.formSubmit},{default:o(()=>[w("提交")]),_:1},8,["loading","onClick"]),r(g,{onClick:e.handleReset},{default:o(()=>[w("重置")]),_:1},8,["onClick"])]),_:1})]),default:o(()=>[r(_,{model:e.formParams,rules:e.rules,ref:"formRef","label-placement":"left","label-width":100},{default:o(()=>[r(i,{label:"标题",path:"title"},{default:o(()=>[r(n,{placeholder:"请输入标题",value:e.formParams.title,"onUpdate:value":a[0]||(a[0]=l=>e.formParams.title=l)},null,8,["value"])]),_:1}),r(i,{label:"路径",path:"path"},{default:o(()=>[r(n,{placeholder:"请输入路径",value:e.formParams.path,"onUpdate:value":a[1]||(a[1]=l=>e.formParams.path=l)},null,8,["value"])]),_:1}),v(r(i,{label:"地址",path:"component"},{default:o(()=>[r(n,{placeholder:"请输入路径",value:e.formParams.component,"onUpdate:value":a[2]||(a[2]=l=>e.formParams.component=l)},null,8,["value"])]),_:1},512),[[k,e.title!=="添加顶级菜单"]]),v(r(i,{label:"重定向",path:"redirect"},{default:o(()=>[r(n,{placeholder:"请输入重定向",value:e.formParams.redirect,"onUpdate:value":a[3]||(a[3]=l=>e.formParams.redirect=l)},null,8,["value"])]),_:1},512),[[k,e.title==="添加顶级菜单"]]),r(i,{label:"菜单权限",path:"code"},{default:o(()=>[r(n,{placeholder:"请输入权限",value:e.formParams.code,"onUpdate:value":a[4]||(a[4]=l=>e.formParams.code=l)},null,8,["value"])]),_:1}),r(i,{label:"按钮权限名称",path:"permissions"},{default:o(()=>[r(n,{placeholder:"请输入按钮权限名称，多个权限用，分割",value:e.formParams.permissions,"onUpdate:value":a[5]||(a[5]=l=>e.formParams.permissions=l)},null,8,["value"])]),_:1}),r(i,{label:"图标",path:"icon"},{default:o(()=>[r(n,{placeholder:"请选择图标",value:e.formParams.icon,"onUpdate:value":a[6]||(a[6]=l=>e.formParams.icon=l)},{suffix:o(()=>[(d(),m(y(e.getIcon(e.formParams.icon))))]),_:1},8,["value"])]),_:1}),r(i,{label:"排序",path:"order"},{default:o(()=>[r(s,{value:e.formParams.order,"onUpdate:value":a[7]||(a[7]=l=>e.formParams.order=l)},null,8,["value"])]),_:1}),r(i,{label:"是否隐藏",path:"hidden"},{default:o(()=>[r(u,{round:!1,value:e.formParams.hidden,"onUpdate:value":a[8]||(a[8]=l=>e.formParams.hidden=l),size:"large"},null,8,["value"])]),_:1}),r(i,{label:"是否缓存",path:"keepAlive"},{default:o(()=>[r(u,{round:!1,value:e.formParams.keepAlive,"onUpdate:value":a[9]||(a[9]=l=>e.formParams.keepAlive=l),size:"large"},null,8,["value"])]),_:1}),r(x,{title:"图标",size:"small",style:{height:"200px",overflow:"hidden","overflow-y":"scroll"}},{default:o(()=>[(d(!0),P(Y,null,X(e.sourceData,l=>(d(),P("div",{key:l,style:{height:"27px"},onClick:K=>e.enterIcons(l)},[(d(),m(y(e.getIcon(l))))],8,H))),128))]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])]),_:1},8,["show","width"])}],["__scopeId","data-v-1fce8140"]]),le=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));export{J as M,le as a,re as d,ae as u};
