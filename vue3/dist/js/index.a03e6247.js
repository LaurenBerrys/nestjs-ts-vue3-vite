import{a as x}from"./layout.9db98bf3.js";import{d as k,a as w,Q as b,V as _,W as g,S as e,k as n,l as f,_ as $,u as a,ag as R,M as j}from"./vue.c8caa29a.js";import{_ as q}from"./AppPage.vue_vue_type_script_setup_true_name_AppPage_lang.22b82fae.js";import{s as K,p as M,b as S}from"./Table.6259e9bb.js";import{l as U}from"./index.3d4ba369.js";import{u as C,b as P}from"./vue-router.eba62f5a.js";import{m as T,e as A,f as B}from"./BasicForm.943f4865.js";import"./vue-i18n.0f3c4f7c.js";import"./axios.9678a311.js";const F={style:{transform:"translateY(25px)"},class:"m-auto p-15 f-c-c min-w-345 max-w-700 rounded-10 card-shadow bg-white","dark:bg-dark":""},I=e("div",{"w-380":"",hidden:"","md:block":"","px-20":"","py-35":""},[e("img",{src:"/assets/login_banner.9a2c5794.jpg","w-full":"",alt:"login_banner"})],-1),Q={"w-320":"","flex-col":"","px-20":"","py-35":""},V={"f-c-c":"","text-24":"","font-normal":"",color:"#6a6a6a"},W={"mt-30":""},Y={"mt-30":""},z={"mt-20":""},D={"mt-20":""},ae=k({__name:"index",setup(E){const h=K.title,i=C(),{query:l}=P(),t=w({name:"",password:""}),p=M("isRemember",!1),c=w(!1);async function u(){const{name:d,password:s}=t.value;if(d&&s){try{c.value=!0,window.$message.loading("正在验证...");const o=await U({name:d,password:s.toString()});if(window.$message.success("登录成功",o.data.token),S().setToken(o.data.token,d),l.redirect){const m=l.redirect;Reflect.deleteProperty(l,"redirect"),i.push({path:m,query:l})}else i.push("/")}catch{window.$message.removeMessage()}c.value=!1}else window.$message.warning("请输入用户名和密码")}return(d,s)=>{const o=x,m=T,v=A,y=B;return b(),_(q,{"show-footer":!0,"bg-cover":"",style:j({backgroundImage:`url(${a("/assets/login_bg.acaecc59.jpg")})`})},{default:g(()=>[e("div",F,[I,e("div",Q,[e("h5",V,[n(o,{"mr-10":"","text-50":"","color-primary":""}),f($(a(h)),1)]),e("div",W,[n(m,{value:a(t).name,"onUpdate:value":s[0]||(s[0]=r=>a(t).name=r),autofocus:"",class:"text-16 items-center h-50 pl-10",placeholder:"admin",maxlength:20},null,8,["value"])]),e("div",Y,[n(m,{value:a(t).password,"onUpdate:value":s[1]||(s[1]=r=>a(t).password=r),class:"text-16 items-center h-50 pl-10",type:"password","show-password-on":"mousedown",placeholder:"123456",maxlength:20,onKeydown:R(u,["enter"])},null,8,["value","onKeydown"])]),e("div",z,[n(v,{checked:a(p),label:"记住我","on-update:checked":r=>p.value=r},null,8,["checked","on-update:checked"])]),e("div",D,[n(y,{"w-full":"","h-50":"","rounded-5":"","text-16":"",type:"primary",loading:a(c),onClick:u},{default:g(()=>[f(" 登录 ")]),_:1},8,["loading"])])])])]),_:1},8,["style"])}}});export{ae as default};
