import{a as D}from"./NvapTable.5831c320.js";import{b6 as v,z,H as C,_ as k,N as S,h as _,W as P}from"./NvapForm.32ab4956.js";import{d as $,c as u,R as w,Y as L,U as l,V as x,W as d,F as N,N as O,Z as m,a0 as j,X as r,k as f,l as F,a1 as M,E as A,A as T,a2 as b}from"./vue.71710d55.js";const W=$({name:"TableAction",components:{DownOutlined:v},props:{actions:{type:Array,default:null,required:!0},dropDownActions:{type:Array,default:null},style:{type:String,default:"button"},select:{type:Function,default:()=>{}}},setup(n){const{hasPermission:p}=D(),i=n.style==="button"?"default":n.style==="text"?"primary":"default",c=n.style==="button"?void 0:n.style==="text"||void 0,y=u(()=>({text:c,type:i,size:"small"})),g=u(()=>(w(n.dropDownActions)||[]).filter(t=>p(t.auth)&&s(t)).map(t=>{const{popConfirm:e}=t;return{size:"small",text:c,type:i,...t,...e,onConfirm:e==null?void 0:e.confirm,onCancel:e==null?void 0:e.cancel}}));function s(t){const e=t.ifShow;let o=!0;return z(e)&&(o=e),C(e)&&(o=e(t)),o}return{getActions:u(()=>(w(n.actions)||[]).filter(t=>p(t.auth)&&s(t)).map(t=>{const{popConfirm:e}=t;return{size:"small",text:c,type:i,...t,...e||{},onConfirm:e==null?void 0:e.confirm,onCancel:e==null?void 0:e.cancel,enable:!!e}})),getDropdownList:g,getMoreProps:y}}}),q={class:"tableAction"},E={class:"flex items-center justify-center"},H={class:"flex items-center"},R=d("span",null,"更多",-1),Y=k(W,[["render",function(n,p,i,c,y,g){const s=S,t=_,e=L("DownOutlined"),o=P;return l(),x("div",q,[d("div",E,[(l(!0),x(N,null,O(n.getActions,(a,h)=>(l(),m(t,A({key:`${h}-${a.label}`},a,{class:"mx-2"}),j({default:r(()=>[F(M(a.label)+" ",1)]),_:2},[a.hasOwnProperty("icon")?{name:"icon",fn:r(()=>[f(s,{component:a.icon},null,8,["component"])]),key:"0"}:void 0]),1040))),128)),n.dropDownActions&&n.getDropdownList.length?(l(),m(o,{key:0,trigger:"hover",options:n.getDropdownList,onSelect:n.select},{default:r(()=>[T(n.$slots,"more"),n.$slots.more?b("",!0):(l(),m(t,A({key:0},n.getMoreProps,{class:"mx-2","icon-placement":"right"}),{default:r(()=>[d("div",H,[R,f(s,{size:"14",class:"ml-1"},{default:r(()=>[f(e)]),_:1})])]),_:1},16))]),_:3},8,["options","onSelect"])):b("",!0)])])}]]);export{Y as T};
