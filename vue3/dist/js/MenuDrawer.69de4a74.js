import{a as h}from"./index.3d4ba369.js";import{r as I}from"./layout.9db98bf3.js";import{d as q,a2 as w,a as U,r as j,Q as s,V as u,W as t,k as r,l as v,x as k,v as y,aa as P,R as x,N as C,F as S}from"./vue.c8caa29a.js";import{_ as R,m as L,an as O,n as M,ak as N,ao as V,f as $,h as F,aq as Q,ar as T}from"./BasicForm.943f4865.js";const W=["airplay","alarm-clock","align-horizontal","align-vertical","angle","archive","arrow-bottom-left","arrow-bottom-right","arrow-down","arrow-down-circle","arrow-left","arrow-left-circle","arrow-right","arrow-right-circle","arrow-top-left","arrow-top-right","arrow-up","arrow-up-circle","audio-wave","backspace","backward","bag","battery-75","battery-charging","battery-empty","battery-full","battery-half","battery-low","bell","bell-disabled","bell-ringing","bell-snooze","bluetooth","book","book-closed","book-text","bookmark","bookmark-book","box","box-add","box-download","box-open","box-remove","boxes","branch","briefcase","browser","browser-alt","button-add","button-minus","calculator","calendar","calendar-add","calendar-date","calendar-day","calendar-days","calendar-last-day","calendar-month","calendar-move","calendar-remove","calendar-split","calendar-week","camera","camera-alt","camera-noflash","camera-noflash-alt","capture","card-timeline","card-view","carousel","cart","cast","chain","chat-add","check","check-circle","check-circle-outside","checkbox-checked","checkbox-empty","chevron-close","chevron-down","chevron-down-circle","chevron-down-double","chevron-left","chevron-left-circle","chevron-left-double","chevron-open","chevron-right","chevron-right-circle","chevron-right-double","chevron-up","chevron-up-circle","chevron-up-double","circle","circle-menu","circle-split","clipboard","clipboard-add","clipboard-check","clipboard-copy","clipboard-cross","clipboard-notes","clipboard-remove","clock","close","cloud","cloud-disconnect","cloud-download","cloud-download-alt","cloud-upload","cloud-upload-alt","code","coffee","coin","coins","compass","component-add","contacts","contract","create","credit-card","crop","cross","cross-circle","crosshair","cube","cubes","cylinder","database","diamond","directions","disc","display","display-alt","document","document-justified","document-list","document-stack","document-words","door","door-alt","download","download-alt","downward","drag","drag-circle","drag-vertical","duplicate","duplicate-alt","enter","enter-alt","episodes","exit-left","exit-right","expand","expand-height","expand-width","external","eye","eye-closed","eye-no","face-delighted","face-happy","face-neutral","face-sad","file-download","file-upload","files-history","files-multi","files-stack","film","filter","filter-circle","filter-single","filtering","fingerprint","flag","flame","flame-alt","flip-view","floppy","folder-add","folder-closed","folder-minus","folder-open","fork-git","forward","frame","fullscreen","funnel","gauge","gift","globe","gps","grab","graph-bar","graph-box","graph-increase","grid","grid-circles","grid-circles-add","grid-small","grid-squares","grid-squares-add","hand","harddrive","hash","heart","heart-rate","heart-remove","height","hierarchy","home","home-alt","home-check","home-door","import","inbox","inbox-alt","info-circle","iphone-landscape","iphone-portrait","jump-backward","jump-forward","jump-left","jump-right","keyboard","laptop","lightbulb","lightbulb-on","lightning","lightning-alt","lineweight","link","link-alt","link-broken","link-horizontal","link-vertical","list","list-add","list-numbered","loader","location","lock","lock-open","mail","mail-add","mail-delete","mail-minus","mail-new","mail-open","mail-remove","marquee","maximise","menu-hamburger","menu-horizontal","menu-vertical","message","message-writing","microphone","microphone-disabled","microphone-muted","midpoint","mini-player","minimise","minus","minus-circle","moon","move","newspaper","no-sign","notebook","notification","nut","pages","panel-bottom","panel-center","panel-left","panel-right","panel-sectioned","panel-top","paper","paper-folded","paper-plane","paper-plane-alt","paperclip","paragraph-center","paragraph-end","paragraph-left","paragraph-right","paragraph-start","pen","phone-landscape","phone-portrait","picture","pie-half","pie-quarter","pie-third","pill","play-button","plus","plus-circle","postcard","printer","projector","pull-down","pull-left","pull-right","pull-up","push-down","push-left","push-right","push-up","question-circle","radio-on","receipt","record","redo","refresh","refresh-alt","replicate","replicate-alt","reset","reset-alt","reset-forward","reset-hard","reset-temporary","retweet","reuse","reverse","reverse-alt","revert","rocket","ruler","scale","scale-contract","scale-extend","scalpel","search","server","settings","share","share-alt","shuffle","side-menu","signal-full","signal-low","signal-medium","signal-none","slash-backward","slash-forward","sliders","sort","sort-alt","speaker","speech-bubble","speech-typing","split","split-three","star","sun","support","swap","switch","table","table-header","tag","tag-milestone","tags","target","terminal","thread","thumbs-down","thumbs-up","ticket","timeline","todo","toggle","toggles","translate","trash","trash-alt","trophy","tv-mode","unarchive","undo","undo-history","unlink-horizontal","unlink-vertical","upload","upload-alt","upward","user","user-add","user-circle","user-male","user-male-circle","user-remove","users","venn","version","versions","video","volume-0","volume-add","volume-disabled","volume-high","volume-low","volume-minus","volume-muted","wallet","warning-circle","warning-hex","warning-triangle","waves","width","wifi","wifi-error","wifi-none","window","window-collapse-left","window-collapse-right","window-content","wrap-back","wrap-forward","write","zoom-cancel","zoom-in","zoom-out","zoom-reset"],A=e=>h({url:"/nest-api/menu-list",method:"post",data:e}),ee=(e,l)=>h({url:"/nest-api/menu-list/"+e,method:"patch",data:l}),ae=e=>h({url:"/nest-api/menu-list/"+e,method:"delete"}),B={icon:{required:!0,message:"请选择图标",trigger:"blur"},title:{required:!0,message:"请输入标题",trigger:"blur"},path:{required:!0,message:"请输入路径",trigger:"blur"}},E=q({name:"CreateDrawer",props:{title:{type:String,default:"添加顶级菜单"},width:{type:Number,default:450},parentId:{type:String,default:"0"}},setup(e,{emit:l}){const{title:p,parentId:f}=w(e),c=U(null),m=()=>({name:"",parentId:"",title:"",path:"",component:"",code:"",icon:"",order:0,redirect:"",permissions:""}),a=j({isDrawer:!1,subLoading:!1,formParams:m()});function i(){a.isDrawer=!1}function d(){c.value.restoreValidation(),a.formParams=Object.assign(a.formParams,m())}return{title:p,enterIcons:n=>{a.formParams.icon=n},getIcon:n=>I("system-uicons:"+n,{size:20}),sourceData:W,...w(a),formRef:c,rules:B,formSubmit:function(){c.value.validate(n=>{n?window.$message.error("请填写完整信息"):(window.$message.success("添加成功"),a.formParams.name=a.formParams.title,a.formParams.icon="system-uicons:"+a.formParams.icon,p.value=="添加顶级菜单"?a.formParams.component="Layout":a.formParams.parentId=f.value,a.formParams.permissions=a.formParams.permissions.split(","),A(a.formParams).then(g=>{d(),i()}))})},handleReset:d,openDrawer:function(){a.isDrawer=!0},closeDrawer:i}}}),G=["onClick"],H=R(E,[["render",function(e,l,p,f,c,m){const a=L,i=O,d=M,n=N,g=V,b=$,_=F,z=Q,D=T;return s(),u(D,{show:e.isDrawer,"onUpdate:show":l[8]||(l[8]=o=>e.isDrawer=o),width:e.width,placement:"right"},{default:t(()=>[r(z,{title:e.title,closable:""},{footer:t(()=>[r(_,null,{default:t(()=>[r(b,{type:"primary",loading:e.subLoading,onClick:e.formSubmit},{default:t(()=>[v("提交")]),_:1},8,["loading","onClick"]),r(b,{onClick:e.handleReset},{default:t(()=>[v("重置")]),_:1},8,["onClick"])]),_:1})]),default:t(()=>[r(g,{model:e.formParams,rules:e.rules,ref:"formRef","label-placement":"left","label-width":100},{default:t(()=>[r(i,{label:"标题",path:"title"},{default:t(()=>[r(a,{placeholder:"请输入标题",value:e.formParams.title,"onUpdate:value":l[0]||(l[0]=o=>e.formParams.title=o)},null,8,["value"])]),_:1}),r(i,{label:"路径",path:"path"},{default:t(()=>[r(a,{placeholder:"请输入路径",value:e.formParams.path,"onUpdate:value":l[1]||(l[1]=o=>e.formParams.path=o)},null,8,["value"])]),_:1}),k(r(i,{label:"地址",path:"component"},{default:t(()=>[r(a,{placeholder:"请输入路径",value:e.formParams.component,"onUpdate:value":l[2]||(l[2]=o=>e.formParams.component=o)},null,8,["value"])]),_:1},512),[[y,e.title!=="添加顶级菜单"]]),k(r(i,{label:"重定向",path:"redirect"},{default:t(()=>[r(a,{placeholder:"请输入重定向",value:e.formParams.redirect,"onUpdate:value":l[3]||(l[3]=o=>e.formParams.redirect=o)},null,8,["value"])]),_:1},512),[[y,e.title==="添加顶级菜单"]]),r(i,{label:"菜单权限",path:"code"},{default:t(()=>[r(a,{placeholder:"请输入权限",value:e.formParams.code,"onUpdate:value":l[4]||(l[4]=o=>e.formParams.code=o)},null,8,["value"])]),_:1}),r(i,{label:"按钮权限名称",path:"permissions"},{default:t(()=>[r(a,{placeholder:"请输入按钮权限名称，多个权限用，分割",value:e.formParams.permissions,"onUpdate:value":l[5]||(l[5]=o=>e.formParams.permissions=o)},null,8,["value"])]),_:1}),r(i,{label:"图标",path:"icon"},{default:t(()=>[r(a,{placeholder:"请选择图标",value:e.formParams.icon,"onUpdate:value":l[6]||(l[6]=o=>e.formParams.icon=o)},{suffix:t(()=>[(s(),u(P(e.getIcon(e.formParams.icon))))]),_:1},8,["value"])]),_:1}),r(i,{label:"排序",path:"order"},{default:t(()=>[r(d,{value:e.formParams.order,"onUpdate:value":l[7]||(l[7]=o=>e.formParams.order=o)},null,8,["value"])]),_:1}),r(n,{title:"图标",size:"small",style:{height:"200px",overflow:"hidden","overflow-y":"scroll"}},{default:t(()=>[(s(!0),x(S,null,C(e.sourceData,o=>(s(),x("div",{key:o,style:{height:"27px"},onClick:J=>e.enterIcons(o)},[(s(),u(P(e.getIcon(o))))],8,G))),128))]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])]),_:1},8,["show","width"])}],["__scopeId","data-v-7ade33de"]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));export{H as M,re as a,ae as d,ee as u};
